mutate(decimalLatitude = str_replace(latitutde, ",","."))
occurrence1 %<>%
mutate(dwc_decimalLatitude = (round(as.numeric(decimalLatitude), digits = 5))) %>%
mutate(dwc_decimalLongitude = (round(as.numeric(decimalLongitude), digits = 5)))
head(occurrence1)
occurrence1 %<>%
mutate(dwc_geodeticDatum = 'WGS84')
occurrence1 %<>%
mutate(dwc_coordinateUncertaintyInMeters = '30')
occurrence1 %<>%
mutate(dwc_order = 'Ixodida')
occurrence1 %<>% mutate(dwc_basisOfRecord = "HumanObservation")
occurrence1 %<>% mutate(dwc_recordedBy = "ITG")
occurrence1 %<>% mutate(dwc_identifiedBy = 'ITG')
occurrence1 %<>% mutate(dwc_collectionCode = "ITG:FAVV")
occurrence1 %<>% mutate(dwc_individualCount = poolnumber)
occurrence1 %<>% mutate(dwc_sex = recode(sex,
"egg" = "",
"larva"  = "",
"pupa" = "",
"nymph" = "",
"Unknown" = "",
"Female" = "female",
"Male" = "male",
"?" = ""
))
view(occurrence)
view(occurrence1)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)      # To do data science
library(tidylog)        # To provide feedback on dplyr functions
library(magrittr)       # To use %<>% pipes
library(here)           # To find files
library(janitor)        # To clean input data
library(readxl)         # To read Excel files
library(digest)         # To generate hashes
library(rgbif)          # To use GBIF services
library(sp)             # coordinate transformation
library(leaflet)        # coordinate transformation
library(widgetframe)    # coordinate transformation
#library(sf)             # coordinate transformation
library(lubridate)      # date transformation
#input_interim <- read_csv2(file = here:here("datasets", "mica-uvw-occurrences", "data", "raw", "2020_11_18_Vangstgegevens #muskus- en beverratten_NL_2019.csv"))
input_data <- read.csv(file = here::here("datasets", "favv-ixodida", "data", "interim", "Integrated_output_ticks_ITG.csv"), sep = ',')
input_data %>% head(n = 5)
input_data %<>% remove_empty("rows")
input_data %<>%
clean_names()
input_data %<>% select(-c("male","female","larva","nymph","id_1"))
input_data %>% head(n = 5)
input_data %<>%
mutate(
Theileriaequi = na_if(theileriaequi, "negative"),
`Babesiacanis_caballi` = na_if(`babesiacanis_caballi`, "negative"),
TBE = na_if(tbe, "negative"),
Borrelia = na_if(borrelia, "negative"),
host = "host"
) %>%
gather(
parasite,
value,
host, theileriaequi, `babesiacanis_caballi`, tbe, borrelia,
na.rm = TRUE,
convert = TRUE
)
input_data %<>%
mutate(scientificName = if_else(
parasite == "host",
paste(genus, species),
str_to_title(parasite)
))
input_data %<>%
mutate (dwc_scientificName = recode(scientificName ,
"Babesiacanis_caballi" = "Babesiacanis caballi",
"Tbe" = "Tick-borne encephalitis virus"
))
input_data %<>% mutate(dwc_eventID = str_c("IGT:FAVV:T:EV:",str_replace(collectiondate,",","-") ,str_replace(extractiondate, ",","-") ,str_replace(latitutde, ",","-"),str_replace(longitude, ",","-")))
input_data %<>% select(-c(species, genus))
head(input_data)
input_data <- input_data %>% mutate(row_id = row_number())
input_data %<>%  mutate(dwc_sex = case_when(
scientificName == 'Dermacentor reticulatus' ~ tolower(sex),
scientificName == 'Ixodes ricinus' ~ tolower(sex),
scientificName == 'Ixodes ' ~ tolower(sex)
))
input_data %<>%  mutate(par_extractiontype = case_when(
scientificName == 'borelia' ~ tolower(extractiontype),
scientificName == 'tbe' ~ tolower(extractiontype),
scientificName == 'babesiacanis_caballi' ~ tolower(extractiontype),
scientificName == 'theileriaequi' ~ tolower(extractiontype)
))
occurrence1 <- input_data
occurrence1 %<>% mutate(dwc_occurrenceID = str_c("ITG:FAVV:IX:OCC:",id, row_id))
occurrence1 %<>% mutate(dwc_type = "Event")
occurrence1 %<>% mutate(dwc_language = "en") # e.g. "en"
occurrence1 %<>% mutate(dwc_license = "https://creativecommons.org/licenses/by/4.0/")
# e.g. "http://creativecommons.org/publicdomain/zero/1.0/"
occurrence1 %<>% mutate(dwc_rightsHolder = "Institute of Tropical Medicine Antwerp") # e.g. "INBO"
occurrence1 %<>% mutate(dwc_accessRights = "http://www.inbo.be/en/norms-for-data-use")
occurrence1 %<>% mutate(dwc_datasetID = "complete")
occurrence1 %<>% mutate(dwc_institutionCode = "ITG") # e.g. "INBO"
occurrence1 %<>% mutate(dwc_collectionCode = "ITG:ixodida") # e.g. "INBO"
occurrence1 %<>% mutate(dwc_datasetName = "FAVV - Exotic vector and pathogen surveillance programme in Belgium - Ixodida_host") # e.g. "Checklist of non-native freshwater fishes in Flanders, Belgium"
occurrence1 %<>% mutate(dwc_basisOfRecord = "HumanObservation")
head(occurrence1, n = 10)
occurrence1 %<>% mutate(dwc_eventDate = collectiondate)
#paste((Start.Date),"/",(End.Date)
occurrence1 %<>% mutate(dwc_samplingProtocol = 'dragging or by hand collection from vegetation or hosts')
occurrence1 %<>% mutate(dwc_locationID = str_c("ITG:FAVV:",sitecode)) # e.g. "Belgium = BE"
occurrence1 %<>% mutate(dwc_continent = "Europe") # e.g. "Belgium = BE"
occurrence1 %<>% mutate(dwc_countryCode = "BE") # e.g. "Belgium = BE"
occurrence1 %<>%
mutate(dwc_municipality = municipality)
occurrence1 %<>%
mutate(dwc_locality = site_name)
head(occurrence1, n = 5)
occurrence1 %<>%
mutate(decimalLongitude = str_replace(longitude, ",",".")) %>%
mutate(decimalLatitude = str_replace(latitutde, ",","."))
occurrence1 %<>%
mutate(dwc_decimalLatitude = (round(as.numeric(decimalLatitude), digits = 5))) %>%
mutate(dwc_decimalLongitude = (round(as.numeric(decimalLongitude), digits = 5)))
head(occurrence1)
occurrence1 %<>%
mutate(dwc_geodeticDatum = 'WGS84')
occurrence1 %<>%
mutate(dwc_coordinateUncertaintyInMeters = '30')
occurrence1 %<>%
mutate(dwc_order = case_when(case_when(
scientificName == 'Dermacentor reticulatus' ~ 'Ixodida',
scientificName == 'Ixodes ricinus' ~ 'Ixodida',
scientificName == 'Ixodes ' ~ 'Ixodida',
scientificName == 'Babesiacanis caballi' ~ 'Piroplasmida',
scientificName == 'Borelia' ~ 'Spirochaetales',
scientificName == 'Theileriaequi' ~ 'Piroplasmida',
scientificName == 'Tbe' ~ 'Amarillovirales'
))
occurrence1 %<>%
mutate(dwc_order = case_when(case_when(
scientificName == 'Dermacentor reticulatus' ~ 'Ixodida',
scientificName == 'Ixodes ricinus' ~ 'Ixodida',
scientificName == 'Ixodes ' ~ 'Ixodida',
scientificName == 'Babesiacanis caballi' ~ 'Piroplasmida',
scientificName == 'Borelia' ~ 'Spirochaetales',
scientificName == 'Theileriaequi' ~ 'Piroplasmida',
scientificName == 'Tbe' ~ 'Amarillovirales'
)))
occurrence1 %<>%
mutate(dwc_order = case_when(
scientificName == 'Dermacentor reticulatus' ~ 'Ixodida',
scientificName == 'Ixodes ricinus' ~ 'Ixodida',
scientificName == 'Ixodes ' ~ 'Ixodida',
scientificName == 'Babesiacanis caballi' ~ 'Piroplasmida',
scientificName == 'Borelia' ~ 'Spirochaetales',
scientificName == 'Theileriaequi' ~ 'Piroplasmida',
scientificName == 'Tbe' ~ 'Amarillovirales'
))
view(occurrence1)
occurrence1 %<>% mutate(dwc_individualCount = case_when (scientificName == 'Dermacentor reticulatus' ~ poolnumber,
+                   scientificName == 'Ixodes ricinus' ~ poolnumber,
+                   scientificName == 'Ixodes ' ~ poolnumber'
+                    ))
occurrence1 %<>% mutate(dwc_individualCount = case_when(
scientificName == 'Dermacentor reticulatus' ~ poolnumber,
+                    scientificName == 'Ixodes ricinus' ~ poolnumber,
+                    scientificName == 'Ixodes ' ~ poolnumber
+                    ))
occurrence1 %<>% mutate(dwc_individualCount = case_when(
scientificName == 'Dermacentor reticulatus' ~ poolnumber,
+                    scientificName == 'Ixodes ricinus' ~ poolnumber,
+                    scientificName == 'Ixodes ' ~ poolnumber
+                    ))
occurrence1 %<>% mutate(dwc_individualCount = case_when(
scientificName == 'Dermacentor reticulatus' ~ poolnumber,
+                    scientificName == 'Ixodes ricinus' ~ poolnumber,
+                    scientificName == 'Ixodes ' ~ poolnumber
+                    )))
occurrence1 %<>% mutate(dwc_individualCount = case_when(
scientificName == 'Dermacentor reticulatus' ~ poolnumber,
scientificName == 'Ixodes ricinus' ~ poolnumber,
scientificName == 'Ixodes ' ~ poolnumber
))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)      # To do data science
library(tidylog)        # To provide feedback on dplyr functions
library(magrittr)       # To use %<>% pipes
library(here)           # To find files
library(janitor)        # To clean input data
library(readxl)         # To read Excel files
library(digest)         # To generate hashes
library(rgbif)          # To use GBIF services
library(sp)             # coordinate transformation
library(leaflet)        # coordinate transformation
library(widgetframe)    # coordinate transformation
#library(sf)             # coordinate transformation
library(lubridate)      # date transformation
#input_interim <- read_csv2(file = here:here("datasets", "mica-uvw-occurrences", "data", "raw", "2020_11_18_Vangstgegevens #muskus- en beverratten_NL_2019.csv"))
input_data <- read.csv(file = here::here("datasets", "favv-ixodida", "data", "interim", "Integrated_output_ticks_ITG.csv"), sep = ',')
input_data %>% head(n = 5)
input_data %<>% remove_empty("rows")
input_data %<>%
clean_names()
input_data %<>% select(-c("male","female","larva","nymph","id_1"))
input_data %>% head(n = 5)
input_data %<>%
mutate(
Theileriaequi = na_if(theileriaequi, "negative"),
`Babesiacanis_caballi` = na_if(`babesiacanis_caballi`, "negative"),
TBE = na_if(tbe, "negative"),
Borrelia = na_if(borrelia, "negative"),
host = "host"
) %>%
gather(
parasite,
value,
host, theileriaequi, `babesiacanis_caballi`, tbe, borrelia,
na.rm = TRUE,
convert = TRUE
)
input_data %<>%
mutate(scientificName = if_else(
parasite == "host",
paste(genus, species),
str_to_title(parasite)
))
input_data %<>%
mutate (dwc_scientificName = recode(scientificName ,
"Babesiacanis_caballi" = "Babesiacanis caballi",
"Tbe" = "Tick-borne encephalitis virus"
))
input_data %<>% mutate(dwc_eventID = str_c("IGT:FAVV:T:EV:",str_replace(collectiondate,",","-") ,str_replace(extractiondate, ",","-") ,str_replace(latitutde, ",","-"),str_replace(longitude, ",","-")))
input_data %<>% select(-c(species, genus))
head(input_data)
input_data <- input_data %>% mutate(row_id = row_number())
input_data %<>%  mutate(dwc_sex = case_when(
scientificName == 'Dermacentor reticulatus' ~ tolower(sex),
scientificName == 'Ixodes ricinus' ~ tolower(sex),
scientificName == 'Ixodes ' ~ tolower(sex)
))
input_data %<>%  mutate(par_extractiontype = case_when(
scientificName == 'borelia' ~ tolower(extractiontype),
scientificName == 'tbe' ~ tolower(extractiontype),
scientificName == 'babesiacanis_caballi' ~ tolower(extractiontype),
scientificName == 'theileriaequi' ~ tolower(extractiontype)
))
occurrence1 <- input_data
occurrence1 %<>% mutate(dwc_occurrenceID = str_c("ITG:FAVV:IX:OCC:",id, row_id))
occurrence1 %<>% mutate(dwc_type = "Event")
occurrence1 %<>% mutate(dwc_language = "en") # e.g. "en"
occurrence1 %<>% mutate(dwc_license = "https://creativecommons.org/licenses/by/4.0/")
# e.g. "http://creativecommons.org/publicdomain/zero/1.0/"
occurrence1 %<>% mutate(dwc_rightsHolder = "Institute of Tropical Medicine Antwerp") # e.g. "INBO"
occurrence1 %<>% mutate(dwc_accessRights = "http://www.inbo.be/en/norms-for-data-use")
occurrence1 %<>% mutate(dwc_datasetID = "complete")
occurrence1 %<>% mutate(dwc_institutionCode = "ITG") # e.g. "INBO"
occurrence1 %<>% mutate(dwc_collectionCode = "ITG:ixodida") # e.g. "INBO"
occurrence1 %<>% mutate(dwc_datasetName = "FAVV - Exotic vector and pathogen surveillance programme in Belgium - Ixodida_host") # e.g. "Checklist of non-native freshwater fishes in Flanders, Belgium"
occurrence1 %<>% mutate(dwc_basisOfRecord = "HumanObservation")
head(occurrence1, n = 10)
occurrence1 %<>% mutate(dwc_eventDate = collectiondate)
#paste((Start.Date),"/",(End.Date)
occurrence1 %<>% mutate(dwc_samplingProtocol = 'dragging or by hand collection from vegetation or hosts')
occurrence1 %<>% mutate(dwc_locationID = str_c("ITG:FAVV:",sitecode)) # e.g. "Belgium = BE"
occurrence1 %<>% mutate(dwc_continent = "Europe") # e.g. "Belgium = BE"
occurrence1 %<>% mutate(dwc_countryCode = "BE") # e.g. "Belgium = BE"
occurrence1 %<>%
mutate(dwc_municipality = municipality)
occurrence1 %<>%
mutate(dwc_locality = site_name)
head(occurrence1, n = 5)
occurrence1 %<>%
mutate(decimalLongitude = str_replace(longitude, ",",".")) %>%
mutate(decimalLatitude = str_replace(latitutde, ",","."))
occurrence1 %<>%
mutate(dwc_decimalLatitude = (round(as.numeric(decimalLatitude), digits = 5))) %>%
mutate(dwc_decimalLongitude = (round(as.numeric(decimalLongitude), digits = 5)))
head(occurrence1)
occurrence1 %<>%
mutate(dwc_geodeticDatum = 'WGS84')
occurrence1 %<>%
mutate(dwc_coordinateUncertaintyInMeters = '30')
occurrence1 %<>%
mutate(dwc_order = case_when(
scientificName == 'Dermacentor reticulatus' ~ 'Ixodida',
scientificName == 'Ixodes ricinus' ~ 'Ixodida',
scientificName == 'Ixodes ' ~ 'Ixodida',
scientificName == 'Babesiacanis caballi' ~ 'Piroplasmida',
scientificName == 'Borelia' ~ 'Spirochaetales',
scientificName == 'Theileriaequi' ~ 'Piroplasmida',
scientificName == 'Tbe' ~ 'Amarillovirales'
))
occurrence1 %<>% mutate(dwc_basisOfRecord = "HumanObservation")
occurrence1 %<>% mutate(dwc_recordedBy = "ITG")
occurrence1 %<>% mutate(dwc_identifiedBy = 'ITG')
occurrence1 %<>% mutate(dwc_collectionCode = "ITG:FAVV")
occurrence1 %<>% mutate(dwc_individualCount = case_when(
scientificName == 'Dermacentor reticulatus' ~ poolnumber,
scientificName == 'Ixodes ricinus' ~ poolnumber,
scientificName == 'Ixodes ' ~ poolnumber
))
view(occurrence1)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)      # To do data science
library(tidylog)        # To provide feedback on dplyr functions
library(magrittr)       # To use %<>% pipes
library(here)           # To find files
library(janitor)        # To clean input data
library(readxl)         # To read Excel files
library(digest)         # To generate hashes
library(rgbif)          # To use GBIF services
library(sp)             # coordinate transformation
library(leaflet)        # coordinate transformation
library(widgetframe)    # coordinate transformation
#library(sf)             # coordinate transformation
library(lubridate)      # date transformation
#input_interim <- read_csv2(file = here:here("datasets", "mica-uvw-occurrences", "data", "raw", "2020_11_18_Vangstgegevens #muskus- en beverratten_NL_2019.csv"))
input_data <- read.csv(file = here::here("datasets", "favv-ixodida", "data", "interim", "Integrated_output_ticks_ITG.csv"), sep = ',')
input_data %>% head(n = 5)
input_data %<>% remove_empty("rows")
input_data %<>%
clean_names()
input_data %<>% select(-c("male","female","larva","nymph","id_1"))
input_data %>% head(n = 5)
input_data %<>%
mutate(
Theileriaequi = na_if(theileriaequi, "negative"),
`Babesiacanis_caballi` = na_if(`babesiacanis_caballi`, "negative"),
TBE = na_if(tbe, "negative"),
Borrelia = na_if(borrelia, "negative"),
host = "host"
) %>%
gather(
parasite,
value,
host, theileriaequi, `babesiacanis_caballi`, tbe, borrelia,
na.rm = TRUE,
convert = TRUE
)
View(input_data)
input_data %<>%
mutate(scientificName = if_else(
parasite == "host",
paste(genus, species),
str_to_title(parasite)
))
input_data %<>%
mutate (dwc_scientificName = recode(scientificName ,
"Babesiacanis_caballi" = "Babesiacanis caballi",
"Tbe" = "Tick-borne encephalitis virus"
))
view(input_data)
input_data %<>% mutate(dwc_eventID = str_c("IGT:FAVV:T:EV:",str_replace(collectiondate,",","-") ,str_replace(extractiondate, ",","-") ,str_replace(latitutde, ",","-"),str_replace(longitude, ",","-")))
input_data %<>% select(-c(species, genus))
head(input_data)
view(input_data)
input_data %<>% select(-c(species, genus, Theileriaequi, Babesiacanis_caballi, TBE))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)      # To do data science
library(tidylog)        # To provide feedback on dplyr functions
library(magrittr)       # To use %<>% pipes
library(here)           # To find files
library(janitor)        # To clean input data
library(readxl)         # To read Excel files
library(digest)         # To generate hashes
library(rgbif)          # To use GBIF services
library(sp)             # coordinate transformation
library(leaflet)        # coordinate transformation
library(widgetframe)    # coordinate transformation
#library(sf)             # coordinate transformation
library(lubridate)      # date transformation
#input_interim <- read_csv2(file = here:here("datasets", "mica-uvw-occurrences", "data", "raw", "2020_11_18_Vangstgegevens #muskus- en beverratten_NL_2019.csv"))
input_data <- read.csv(file = here::here("datasets", "favv-ixodida", "data", "interim", "Integrated_output_ticks_ITG.csv"), sep = ',')
input_data %>% head(n = 5)
input_data %<>% remove_empty("rows")
input_data %<>%
clean_names()
input_data %<>% select(-c("male","female","larva","nymph","id_1"))
input_data %>% head(n = 5)
input_data %<>%
mutate(
Theileriaequi = na_if(theileriaequi, "negative"),
`Babesiacanis_caballi` = na_if(`babesiacanis_caballi`, "negative"),
TBE = na_if(tbe, "negative"),
Borrelia = na_if(borrelia, "negative"),
host = "host"
) %>%
gather(
parasite,
value,
host, theileriaequi, `babesiacanis_caballi`, tbe, borrelia,
na.rm = TRUE,
convert = TRUE
)
input_data %<>%
mutate(scientificName = if_else(
parasite == "host",
paste(genus, species),
str_to_title(parasite)
))
input_data %<>%
mutate (dwc_scientificName = recode(scientificName ,
"Babesiacanis_caballi" = "Babesiacanis caballi",
"Tbe" = "Tick-borne encephalitis virus"
))
input_data %<>% mutate(dwc_eventID = str_c("IGT:FAVV:T:EV:",str_replace(collectiondate,",","-") ,str_replace(extractiondate, ",","-") ,str_replace(latitutde, ",","-"),str_replace(longitude, ",","-")))
input_data %<>% select(-c(species, genus, Theileriaequi, Babesiacanis_caballi, TBE))
head(input_data)
input_data <- input_data %>% mutate(row_id = row_number())
input_data %<>%  mutate(dwc_sex = case_when(
scientificName == 'Dermacentor reticulatus' ~ tolower(sex),
scientificName == 'Ixodes ricinus' ~ tolower(sex),
scientificName == 'Ixodes ' ~ tolower(sex)
))
input_data %<>%  mutate(parasite_extractiontype = case_when(
scientificName == 'borelia' ~ tolower(extractiontype),
scientificName == 'tbe' ~ tolower(extractiontype),
scientificName == 'babesiacanis_caballi' ~ tolower(extractiontype),
scientificName == 'theileriaequi' ~ tolower(extractiontype)
))
View(input_data)
input_data %<>%  mutate(parasite_extractiontype = case_when(
scientificName == 'Borelia' ~ tolower(extractiontype),
scientificName == 'Tbe' ~ tolower(extractiontype),
scientificName == 'Babesiacanis_caballi' ~ tolower(extractiontype),
scientificName == 'Theileriaequi' ~ tolower(extractiontype)
))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)      # To do data science
library(tidylog)        # To provide feedback on dplyr functions
library(magrittr)       # To use %<>% pipes
library(here)           # To find files
library(janitor)        # To clean input data
library(readxl)         # To read Excel files
library(digest)         # To generate hashes
library(rgbif)          # To use GBIF services
library(sp)             # coordinate transformation
library(leaflet)        # coordinate transformation
library(widgetframe)    # coordinate transformation
#library(sf)             # coordinate transformation
library(lubridate)      # date transformation
#input_interim <- read_csv2(file = here:here("datasets", "mica-uvw-occurrences", "data", "raw", "2020_11_18_Vangstgegevens #muskus- en beverratten_NL_2019.csv"))
input_data <- read.csv(file = here::here("datasets", "favv-ixodida", "data", "interim", "Integrated_output_ticks_ITG.csv"), sep = ',')
input_data %>% head(n = 5)
input_data %<>% remove_empty("rows")
input_data %<>%
clean_names()
input_data %<>% select(-c("male","female","larva","nymph","id_1"))
input_data %>% head(n = 5)
input_data %<>%
mutate(
Theileriaequi = na_if(theileriaequi, "negative"),
`Babesiacanis_caballi` = na_if(`babesiacanis_caballi`, "negative"),
TBE = na_if(tbe, "negative"),
Borrelia = na_if(borrelia, "negative"),
host = "host"
) %>%
gather(
parasite,
value,
host, theileriaequi, `babesiacanis_caballi`, tbe, borrelia,
na.rm = TRUE,
convert = TRUE
)
input_data %<>%
mutate(scientificName = if_else(
parasite == "host",
paste(genus, species),
str_to_title(parasite)
))
input_data %<>%
mutate (dwc_scientificName = recode(scientificName ,
"Babesiacanis_caballi" = "Babesiacanis caballi",
"Tbe" = "Tick-borne encephalitis virus"
))
input_data %<>% mutate(dwc_eventID = str_c("IGT:FAVV:T:EV:",str_replace(collectiondate,",","-") ,str_replace(extractiondate, ",","-") ,str_replace(latitutde, ",","-"),str_replace(longitude, ",","-")))
input_data %<>% select(-c(species, genus, Theileriaequi, Babesiacanis_caballi, TBE))
head(input_data)
input_data <- input_data %>% mutate(row_id = row_number())
input_data %<>%  mutate(dwc_sex = case_when(
scientificName == 'Dermacentor reticulatus' ~ tolower(sex),
scientificName == 'Ixodes ricinus' ~ tolower(sex),
scientificName == 'Ixodes ' ~ tolower(sex)
))
input_data %<>%  mutate(parasite_extractiontype = case_when(
scientificName == 'Borelia' ~ tolower(extractiontype),
scientificName == 'Tbe' ~ tolower(extractiontype),
scientificName == 'Babesiacanis_caballi' ~ tolower(extractiontype),
scientificName == 'Theileriaequi' ~ tolower(extractiontype)
))
View(input_data)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)      # To do data science
library(tidylog)        # To provide feedback on dplyr functions
library(magrittr)       # To use %<>% pipes
library(here)           # To find files
library(janitor)        # To clean input data
library(readxl)         # To read Excel files
library(digest)         # To generate hashes
library(rgbif)          # To use GBIF services
library(sp)             # coordinate transformation
library(leaflet)        # coordinate transformation
library(widgetframe)    # coordinate transformation
#library(sf)             # coordinate transformation
library(lubridate)      # date transformation
#input_interim <- read_csv2(file = here:here("datasets", "mica-uvw-occurrences", "data", "raw", "2020_11_18_Vangstgegevens #muskus- en beverratten_NL_2019.csv"))
input_data <- read.csv(file = here::here("datasets", "favv-ixodida", "data", "interim", "Integrated_output_ticks_ITG.csv"), sep = ',')
input_data %>% head(n = 5)
input_data %<>% remove_empty("rows")
input_data %<>%
clean_names()
input_data %<>% select(-c("male","female","larva","nymph","id_1"))
View(input_data)
